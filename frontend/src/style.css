@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

/* Design Tokens */
:root {
    color-scheme: light;
    --brand-primary: #4f6fae;
    --brand-primary-strong: #43629c;
    --brand-accent: #e39862;
    --brand-accent-soft: #f2c8a7;
    --semantic-success: #10b981;
    --semantic-warning: #f59e0b;
    --semantic-error: #f43f5e;
    --bg-start: #fdfcfb;
    --bg-mid: #f8fafc;
    --bg-end: #f1f5f9;
    --text-primary: #334155;
    --surface-panel: rgba(252, 253, 255, 0.86);
    --surface-card: #fbfcfe;
    --border-soft: rgba(203, 213, 225, 0.3);
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.03);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.03), 0 2px 4px -2px rgb(0 0 0 / 0.03);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.035), 0 4px 6px -4px rgb(0 0 0 / 0.035);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.045), 0 8px 10px -6px rgb(0 0 0 / 0.045);
    --shadow-brand: 0 4px 14px 0 rgba(79, 111, 174, 0.12);
    --glow-brand: 0 0 14px rgba(79, 111, 174, 0.1);
}

:root.dark,
:root[data-theme="dark"] {
    color-scheme: dark;
    --brand-primary: #6a86ba;
    --brand-primary-strong: #5d77a8;
    --brand-accent: #d9a47d;
    --brand-accent-soft: #dcc0aa;
    --semantic-success: #63b69c;
    --semantic-warning: #caaa66;
    --semantic-error: #cc8798;
    --bg-start: #1d2636;
    --bg-mid: #222d3f;
    --bg-end: #273346;
    --text-primary: #d4deed;
    --surface-panel: rgba(47, 59, 79, 0.78);
    --surface-card: rgba(53, 67, 90, 0.84);
    --border-soft: rgba(148, 163, 184, 0.18);
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.2);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.24), 0 2px 4px -2px rgb(0 0 0 / 0.24);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.26), 0 4px 6px -4px rgb(0 0 0 / 0.26);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3);
    --shadow-brand: 0 4px 14px 0 rgba(106, 134, 186, 0.14);
    --glow-brand: 0 0 14px rgba(106, 134, 186, 0.14);
}

/* Custom Utilities */
body {
    color: var(--text-primary);
    background:
        radial-gradient(circle at 14% 18%, color-mix(in srgb, var(--brand-accent) 3%, transparent), transparent 48%),
        radial-gradient(circle at 85% 78%, color-mix(in srgb, var(--brand-primary) 4%, transparent), transparent 48%),
        linear-gradient(140deg, var(--bg-start) 0%, var(--bg-mid) 52%, var(--bg-end) 100%);
    min-height: 100vh;
}

body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
    opacity: 0.12;
    background-image:
        radial-gradient(rgba(15, 23, 42, 0.035) 0.55px, transparent 0.55px),
        linear-gradient(115deg, rgba(148, 163, 184, 0.1) 1px, transparent 1px);
    background-size: 3px 3px, 44px 44px;
    background-position: 0 0, 10px 12px;
}

.app-shell {
    background:
        radial-gradient(circle at 10% 16%, color-mix(in srgb, var(--brand-accent) 2%, transparent), transparent 44%),
        radial-gradient(circle at 78% 82%, color-mix(in srgb, var(--brand-primary) 3%, transparent), transparent 50%),
        linear-gradient(140deg, var(--bg-start) 0%, var(--bg-mid) 54%, var(--bg-end) 100%);
}

.app-panel {
    background: var(--surface-panel);
    border-color: var(--border-soft);
}

.app-card {
    background: linear-gradient(180deg, color-mix(in srgb, var(--surface-card) 99%, transparent), var(--surface-card));
    border-color: var(--border-soft);
}

.app-toolbar {
    background: color-mix(in srgb, var(--surface-panel) 99%, transparent);
    border-color: var(--border-soft);
}

.brand-banner {
    background: linear-gradient(
        118deg,
        color-mix(in srgb, var(--brand-primary) 84%, #fff) 0%,
        color-mix(in srgb, var(--brand-primary-strong) 86%, #fff) 72%,
        color-mix(in srgb, var(--brand-accent) 18%, var(--brand-primary)) 100%
    );
}

/* 自定义滚动条 */
::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
}

/* 毛玻璃效果 */
.glass {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
}

/* 渐变边框 */
.gradient-border {
    position: relative;
    background: white;
    border-radius: 12px;
}

.gradient-border::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 12px;
    padding: 1px;
    background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(147, 51, 234, 0.2));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
}

/* 柔和阴影 */
.shadow-soft {
    box-shadow: var(--shadow-sm);
}

.shadow-medium {
    box-shadow: var(--shadow-md);
}

.elev-sm {
    box-shadow: var(--shadow-sm);
}

.elev-md {
    box-shadow: var(--shadow-md);
}

.elev-lg {
    box-shadow: var(--shadow-lg);
}

.elev-xl {
    box-shadow: var(--shadow-xl);
}

.brand-shadow {
    box-shadow: var(--shadow-brand);
}

.brand-glow {
    box-shadow: var(--glow-brand);
}

/* 按钮悬停效果增强 */
.btn-primary {
    background: linear-gradient(
        120deg,
        color-mix(in srgb, var(--brand-primary) 88%, #fff),
        color-mix(in srgb, var(--brand-primary-strong) 90%, #fff)
    );
    color: #fff;
    font-weight: 500;
    transition: all 0.2s ease;
    box-shadow: var(--shadow-brand);
}

.btn-primary:hover {
    box-shadow: var(--shadow-brand), var(--glow-brand);
    filter: brightness(1.03);
    transform: translateY(-2px);
}

.btn-secondary {
    @apply bg-white text-slate-700 border border-slate-200 font-medium;
    transition: all 0.2s ease;
}

.btn-secondary:hover {
    @apply bg-slate-50 border-slate-300 shadow-md;
    transform: translateY(-2px);
}

/* 卡片悬浮效果 */
.card-hover {
    transition: all 0.2s ease-out;
}

.card-hover:hover {
    background-color: color-mix(in srgb, var(--surface-card) 92%, #fff);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
}

.brand-progress {
    background: linear-gradient(
        90deg,
        color-mix(in srgb, var(--brand-primary) 90%, #fff) 0%,
        color-mix(in srgb, var(--brand-primary-strong) 90%, #fff) 72%,
        color-mix(in srgb, var(--brand-accent) 62%, #fff) 100%
    );
}

:root.dark .app-shell .text-slate-900,
:root.dark .app-shell .text-slate-800,
:root.dark .app-shell .text-slate-700,
:root[data-theme="dark"] .app-shell .text-slate-900,
:root[data-theme="dark"] .app-shell .text-slate-800,
:root[data-theme="dark"] .app-shell .text-slate-700 {
    color: #e2e8f0;
}

:root.dark .app-shell .text-slate-600,
:root.dark .app-shell .text-slate-500,
:root[data-theme="dark"] .app-shell .text-slate-600,
:root[data-theme="dark"] .app-shell .text-slate-500 {
    color: #cbd5e1;
}

:root.dark .app-shell .text-slate-400,
:root[data-theme="dark"] .app-shell .text-slate-400 {
    color: #94a3b8;
}

:root.dark .app-shell .bg-white,
:root.dark .app-shell .bg-white\/80,
:root.dark .app-shell .bg-white\/90,
:root.dark .app-shell .bg-white\/95,
:root.dark .app-shell .bg-slate-50,
:root.dark .app-shell .bg-slate-50\/50,
:root.dark .app-shell .bg-slate-50\/80,
:root.dark .app-shell .bg-slate-100,
:root.dark .app-shell .bg-slate-100\/50,
:root[data-theme="dark"] .app-shell .bg-white,
:root[data-theme="dark"] .app-shell .bg-white\/80,
:root[data-theme="dark"] .app-shell .bg-white\/90,
:root[data-theme="dark"] .app-shell .bg-white\/95,
:root[data-theme="dark"] .app-shell .bg-slate-50,
:root[data-theme="dark"] .app-shell .bg-slate-50\/50,
:root[data-theme="dark"] .app-shell .bg-slate-50\/80,
:root[data-theme="dark"] .app-shell .bg-slate-100,
:root[data-theme="dark"] .app-shell .bg-slate-100\/50 {
    background-color: color-mix(in srgb, #2f3b4f 78%, transparent);
}

:root.dark .app-shell .border-slate-200,
:root.dark .app-shell .border-slate-200\/50,
:root.dark .app-shell .border-slate-200\/60,
:root.dark .app-shell .border-slate-200\/70,
:root.dark .app-shell .border-slate-300,
:root[data-theme="dark"] .app-shell .border-slate-200,
:root[data-theme="dark"] .app-shell .border-slate-200\/50,
:root[data-theme="dark"] .app-shell .border-slate-200\/60,
:root[data-theme="dark"] .app-shell .border-slate-200\/70,
:root[data-theme="dark"] .app-shell .border-slate-300 {
    border-color: rgba(148, 163, 184, 0.2);
}

/* 通用微交互：所有可点击元素 hover 上浮并提供背景反馈 */
button,
label.cursor-pointer,
[role="button"] {
    transition: all 0.2s ease-out;
}

button:hover:not(:disabled),
label.cursor-pointer:hover,
[role="button"]:hover {
    transform: translateY(-2px);
}

button:hover:not(:disabled),
label.cursor-pointer:hover {
    background-color: rgba(148, 163, 184, 0.08);
}

button:disabled {
    transform: none !important;
}

/* 页面切换淡入淡出 */
.fade-enter-active,
.fade-leave-active {
    transition: opacity 0.25s ease-out, transform 0.25s ease-out;
}

.fade-enter-from,
.fade-leave-to {
    opacity: 0;
    transform: translateY(6px);
}

/* 弹窗过渡 */
.modal-enter-active,
.modal-leave-active {
    transition: opacity 0.3s ease-out;
}

.modal-enter-active > div,
.modal-leave-active > div {
    transition: all 0.3s ease-out;
}

.modal-enter-from,
.modal-leave-to {
    opacity: 0;
}

.modal-enter-from > div,
.modal-leave-to > div {
    opacity: 0;
    transform: translateY(8px) scale(0.98);
}

/* 表单实时错误态 */
[data-error="true"] {
    border-color: #f87171 !important;
    background-color: #fff5f5 !important;
}

[data-error="true"]:focus {
    border-color: #ef4444 !important;
    outline: none;
}

/* Toast 右上角滑入 */
.toast-enter-active,
.toast-leave-active {
    transition: all 0.3s ease-out;
}

.toast-enter-from,
.toast-leave-to {
    opacity: 0;
    transform: translateX(24px);
}

/* 加载动画 */
@keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
}

.shimmer {
    background: linear-gradient(90deg, #f1f5f9 0%, #e2e8f0 50%, #f1f5f9 100%);
    background-size: 1000px 100%;
    animation: shimmer 2s infinite;
}
