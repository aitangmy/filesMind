# FilesMind - AI é©±åŠ¨çš„æ·±åº¦çŸ¥è¯†å¯¼å›¾ç”Ÿæˆå™¨

> [English](README.md) | [ç®€ä½“ä¸­æ–‡](README.zh-CN.md)

> ğŸš€ **å°†é•¿æ–‡æ¡£è½¬åŒ–ä¸ºæ·±åº¦æ€è€ƒçš„çŸ¥è¯†ç»“æ„**
> 
> FilesMind æ˜¯ä¸€ä¸ªå¼€æºçš„æ™ºèƒ½æ–‡æ¡£åˆ†æå·¥å…·ï¼Œä¸“ä¸ºâ€œæ·±åº¦é˜…è¯»â€è®¾è®¡ã€‚å®ƒåˆ©ç”¨ LLMï¼ˆDeepSeek/MiniMaxï¼‰é€šè¿‡ç‹¬åˆ›çš„**é€’å½’ä¸Šä¸‹æ–‡åˆ†å—ï¼ˆRecursive Context Awarenessï¼‰**ç®—æ³•ï¼Œå°†å¤æ‚çš„ PDF æ–‡æ¡£è½¬åŒ–ä¸ºå±‚çº§æ¸…æ™°ã€é€»è¾‘ä¸¥å¯†çš„æ€ç»´å¯¼å›¾ã€‚

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/Backend-FastAPI-009688.svg)
![Vue](https://img.shields.io/badge/Frontend-Vue3-4FC08D.svg)

---

## ğŸŒŸ æ ¸å¿ƒäº®ç‚¹ (Why FilesMind?)

ä¼ ç»Ÿçš„ "PDF è½¬å¯¼å›¾" å·¥å…·å¾€å¾€åªæ˜¯ç®€å•çš„æå–æ ‡é¢˜ï¼Œç”Ÿæˆçš„å¯¼å›¾**ç¢ç‰‡åŒ–ä¸¥é‡**ä¸”**ç¼ºä¹é€»è¾‘å…³è”**ã€‚FilesMind çš„ä¸åŒä¹‹å¤„åœ¨äºï¼š

1.  **ğŸ§  ä¸Šä¸‹æ–‡é˜²ä¸¢å¤±ç®—æ³•**: å½»åº•è§£å†³ AI "æ–­ç« å–ä¹‰" çš„é—®é¢˜ã€‚åœ¨åˆ‡åˆ†é•¿æ–‡æ¡£æ—¶ï¼Œè‡ªåŠ¨ç»´æŠ¤â€œæ ‡é¢˜æ ˆï¼ˆHeader Stackï¼‰â€ï¼Œç¡®ä¿æ¯ä¸ªåˆ‡ç‰‡éƒ½æºå¸¦å®Œæ•´çš„ç« èŠ‚è·¯å¾„ï¼ˆå¦‚ `ç¬¬1ç«  > 1.2 æŠ€æœ¯åŸç† > æ ¸å¿ƒå…¬å¼`ï¼‰ã€‚
2.  **âš¡ æ™ºèƒ½ç¡¬ä»¶åŠ é€Ÿ**: è‡ªåŠ¨æ£€æµ‹æ‚¨çš„è®¾å¤‡ï¼ˆNVIDIA GPU / Mac MPS / CPUï¼‰ï¼ŒåŠ¨æ€è°ƒæ•´è§£æç­–ç•¥ã€‚åœ¨ Mac Mç³»åˆ—èŠ¯ç‰‡ä¸Šå¯è·å¾—æè‡´çš„è§£æé€Ÿåº¦ã€‚
3.  **ğŸ“„ æ·±åº¦ PDF è§£æ**: é›†æˆ IBM `Docling` å¼•æ“ï¼Œç²¾å‡†è¯†åˆ«æ–‡æ¡£ä¸­çš„è¡¨æ ¼ã€å›¾ç‰‡ã€å…¬å¼ï¼Œå¹¶å°†å…¶é‡ç»„ä¸ºç»“æ„åŒ–æ•°æ®ã€‚
4.  **ğŸ”— XMind åŸç”Ÿæ”¯æŒ**: ä¸€é”®å¯¼å‡º `.xmind` æºæ–‡ä»¶ï¼Œç”šè‡³åŒ…æ‹¬åŸæ–‡ä¸­çš„å›¾ç‰‡æˆªå›¾ï¼Œå¯ç›´æ¥åœ¨ XMind è½¯ä»¶ä¸­è¿›è¡ŒäºŒæ¬¡ç¼–è¾‘ã€‚
5.  **ğŸ§© æ¨¡å—åŒ–æ¶æ„**: å‰åç«¯åˆ†ç¦»ï¼ˆFastAPI + Vue3ï¼‰ï¼Œæ˜“äºæ‰©å±•å’ŒäºŒæ¬¡å¼€å‘ã€‚

---

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹ (Quick Start)

æˆ‘ä»¬è¦ç¡®ä¿ä½ èƒ½**åœ¨ 5 åˆ†é’Ÿå†…**æŠŠé¡¹ç›®è·‘èµ·æ¥ã€‚è¯·è·Ÿéšä»¥ä¸‹æ­¥éª¤ï¼š

### 1. ç¯å¢ƒå‡†å¤‡ (Prerequisites)

*   **Python**: ç‰ˆæœ¬éœ€ >= 3.10
*   **Node.js**: ç‰ˆæœ¬éœ€ >= 16.0
*   **Git**: ç”¨äºå…‹éš†ä»£ç 

### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-username/filesMind.git
cd filesMind
```

### 3. å¯åŠ¨åç«¯ (Backend)

æˆ‘ä»¬å¼ºçƒˆæ¨èä½¿ç”¨ python åŒ…ç®¡ç†å™¨ `uv` (æ¯” pip å¿« 10-100 å€)ï¼Œæˆ–è€…ä½¿ç”¨ä¼ ç»Ÿçš„ `pip`ã€‚

#### æ–¹å¼ A: ä½¿ç”¨ uv (æ¨è)

```bash
# 1. è¿›å…¥åç«¯ç›®å½•
cd backend

# 2. å®‰è£… uv (å¦‚æœå·²å®‰è£…å¯è·³è¿‡)
pip install uv

# 3. åŒæ­¥ä¾èµ– (è‡ªåŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ)
uv sync

# 4. å¯åŠ¨æœåŠ¡
uv run uvicorn app:app --reload --host 0.0.0.0 --port 8000
```

#### æ–¹å¼ B: ä½¿ç”¨ä¼ ç»Ÿ pip

```bash
cd backend

# 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv .venv

# 2. æ¿€æ´»ç¯å¢ƒ
# Windows:
.venv\Scripts\activate
# Mac/Linux:
source .venv/bin/activate

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. å¯åŠ¨æœåŠ¡
uvicorn app:app --reload --host 0.0.0.0 --port 8000
```

> **ğŸ”¥ GPU åŠ é€Ÿæç¤º**: 
> *   **Mac ç”¨æˆ·**: æ— éœ€é¢å¤–æ“ä½œï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨ `MPS` (Metal Performance Shaders) åŠ é€Ÿã€‚
> *   **NVIDIA ç”¨æˆ·**: å¦‚æœä½ æƒ³ç”¨ GPU åŠ é€Ÿ PDF è§£æï¼Œè¯·å¸è½½é»˜è®¤ torch å¹¶å®‰è£… CUDA ç‰ˆæœ¬ï¼š
>     ```bash
>     pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu121
>     ```

åç«¯å¯åŠ¨æˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°ç±»ä¼¼ `Uvicorn running on http://0.0.0.0:8000` çš„æç¤ºã€‚

### 4. å¯åŠ¨å‰ç«¯ (Frontend)

æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯çª—å£ï¼š

```bash
cd frontend

# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

æµè§ˆå™¨è®¿é—® [http://localhost:5173](http://localhost:5173) å³å¯çœ‹åˆ°ç•Œé¢ï¼ğŸ‰

---

## ğŸ“– ä½¿ç”¨æŒ‡å— (User Guide)

ç•Œé¢å¸ƒå±€ç›´è§‚ï¼Œä¸»è¦åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š

### 1. å·¦ä¾§ä¾§è¾¹æ  (History)
*   **å†å²è®°å½•**: æ˜¾ç¤ºæ‰€æœ‰å¤„ç†è¿‡çš„æ–‡ä»¶ã€‚
*   **çŠ¶æ€å›¾æ ‡**: 
    *   `âœ“` (ç»¿è‰²): å¤„ç†å®Œæˆï¼Œç‚¹å‡»å³å¯æŸ¥çœ‹ã€‚
    *   `âŸ³` (é»„è‰²): æ­£åœ¨å¤„ç†ä¸­ã€‚
    *   `!` (çº¢è‰²): å¤„ç†å¤±è´¥ï¼ˆé€šå¸¸æ˜¯ PDF æŸåæˆ– API é¢åº¦ä¸è¶³ï¼‰ã€‚

### 2. é¡¶éƒ¨å¯¼èˆªæ  (Toolbar)
*   **ä¸Šä¼ æŒ‰é’®**: ç‚¹å‡»ä¸Šä¼  PDFã€‚**æ³¨æ„**: å¦‚æœæ‚¨çš„ç”µè„‘æ²¡æœ‰ GPU ä¸”ä¸Šä¼ äº†å¤§æ–‡ä»¶ï¼Œç³»ç»Ÿä¼šå¼¹å‡ºæ¸©é¦¨æç¤ºï¼Œå»ºè®®ç¡®è®¤ã€‚
*   **è®¾ç½® (Settings)**: 
    *   é…ç½® **API Key** (æ”¯æŒ DeepSeek, MiniMax, OpenAI ç­‰)ã€‚
    *   é€‰æ‹©æ¨¡å‹ (æ¨è **DeepSeek-V3** æˆ– **MiniMax 2.5** ä»¥è·å¾—æœ€ä½³æ€§ä»·æ¯”)ã€‚
    *   **è´¦æˆ·ç±»å‹**: éƒ¨åˆ†æœåŠ¡å•†ï¼ˆå¦‚ MiniMaxï¼‰åŒºåˆ†å…è´¹/ä»˜è´¹ç”¨æˆ·çš„å¹¶å‘é™åˆ¶ï¼Œè¯·æ­£ç¡®é€‰æ‹©ä»¥é˜²æŠ¥é”™ã€‚

### 3. ä¸»è§†å›¾ (Canvas)
*   **æ€ç»´å¯¼å›¾é¢„è§ˆ**: å®æ—¶æ¸²æŸ“ Markdown å¯¼å›¾ï¼Œæ”¯æŒç¼©æ”¾ã€æ‹–æ‹½ã€‚
*   **ä¸‹è½½ XMind**: å¤„ç†å®Œæˆåï¼Œç‚¹å‡»å³ä¸Šè§’ä¸‹è½½æŒ‰é’®ï¼Œè·å– `.xmind` æ–‡ä»¶ã€‚

---

## â“ å¸¸è§é—®é¢˜ (Troubleshooting)

**Q1: ä¸Šä¼ æ–‡ä»¶åä¸€ç›´æ˜¾ç¤º "Processing..." è¿›åº¦æ¡å¡ä½ï¼Ÿ**
*   **åŸå› **: ä¸»è¦æ˜¯ PDF è§£æï¼ˆOCRï¼‰éå¸¸æ¶ˆè€—è®¡ç®—èµ„æºã€‚
*   **è§£å†³**: 
    *   è¯·æŸ¥çœ‹åç«¯ç»ˆç«¯çš„æ—¥å¿—è¾“å‡ºã€‚
    *   å¦‚æœæ˜¯ **çº¯ CPU ç¯å¢ƒ**ï¼Œè§£æ 50 é¡µçš„ PDF å¯èƒ½éœ€è¦ 3-5 åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚
    *   ç¡®ä¿åç«¯æ²¡æœ‰æŠ¥é”™é€€å‡ºã€‚

**Q2: æç¤º "Connection Error" æˆ–é…ç½®æµ‹è¯•å¤±è´¥ï¼Ÿ**
*   **åŸå› **: API Key é”™è¯¯æˆ–ç½‘ç»œé—®é¢˜ã€‚
*   **è§£å†³**: 
    *   æ£€æŸ¥ API Key æ˜¯å¦æœ‰ä½™é¢ã€‚
    *   å›½å†…ç”¨æˆ·è¯·ç¡®ä¿ç½‘ç»œèƒ½è®¿é—®å¯¹åº”çš„ LLM æœåŠ¡å•† APIã€‚
    *   åç«¯é»˜è®¤å¼€å¯äº† CORSï¼Œä¸€èˆ¬ä¸ä¼šæœ‰è·¨åŸŸé—®é¢˜ã€‚

**Q3: ä¸ºä»€ä¹ˆ Windows ä¸ŠæŠ¥ OpenMP é”™è¯¯ï¼Ÿ**
*   **è§£å†³**: æˆ‘ä»¬å·²ç»åœ¨ä»£ç ä¸­æ·»åŠ äº† `os.environ["KMP_DUPLICATE_LIB_OK"] = "TRUE"` è‡ªåŠ¨ä¿®å¤æ­¤é—®é¢˜ã€‚å¦‚æœä»æŠ¥é”™ï¼Œè¯·ç¡®ä¿åªå®‰è£…äº†ä¸€ä¸ª PyTorch ç‰ˆæœ¬ã€‚

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„ (Architecture)

```mermaid
graph TD
    User["ç”¨æˆ· (Browser)"] -->|ä¸Šä¼  PDF| Frontend["å‰ç«¯ (Vue3)"]
    Frontend -->|API è¯·æ±‚| Backend["åç«¯ (FastAPI)"]
    
    subgraph "Backend Pipeline"
        Backend -->|1. æ™ºèƒ½è§£æ| Parser["Docling (OCR & Layout)"]
        Parser -->|2. ä¸Šä¸‹æ–‡åˆ†å—| Chunker["Context-Aware Chunker"]
        Chunker -->|3. æ·±åº¦æ¨ç†| LLM["Cognitive Engine (Async)"]
        LLM -->|4. ç»“æ„åŒ–è¾“å‡º| XMind["XMind Generator"]
    end
    
    Backend -->|ç¡¬ä»¶åŠ é€Ÿ| Check["Hardware Utils (CUDA/MPS/CPU)"]
```

## ğŸ“„ License

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºã€‚æ¬¢è¿ Fork å’Œ PRï¼
